oojs.define({name:"page",namespace:"",deps:{},sdk:{},adsExtention:[],makeIconAndPicVerticalCenter:function(){var c=document.querySelector(".icon");var a=document.querySelector(".container");if(!c||!a){return}var e=parseInt(window.getComputedStyle(a).height,10);var f=parseInt(window.getComputedStyle(c).height,10);c.style.marginTop=(e-f)/2+"px";var b=document.querySelector(".pic");if(b){var d=parseInt(window.getComputedStyle(b).height,10);b.style.marginTop=(e-d)/2+"px"}},makeTextVerticalCenter:function(){var g=document.querySelector(".title");var f=document.querySelector(".desc");var a=document.querySelector(".container");var e=parseInt(window.getComputedStyle(g).height,10);var b=parseInt(window.getComputedStyle(f).height,10);var c=parseInt(window.getComputedStyle(a).height,10);var d=3;g.style.marginBottom=d+"px";g.style.marginTop=(c-e-b-d)/2+"px"},$page:function(){this.makeIconAndPicVerticalCenter();this.makeTextVerticalCenter();try{this.sdk=(window.baidu&&window.baidu.mobads&&window.baidu.mobads.Sdk)||(parent&&parent.baidu&&parent.baidu.mobads&&parent.baidu.mobads.Sdk);this.bindCloseHandler();this.mobInterface=(window.baidu&&window.baidu.mobads&&window.baidu.mobads.Interface)||(parent&&parent.baidu&&parent.baidu.mobads&&parent.baidu.mobads.Interface);var a=document.getElementById("item0");var c=parseInt(this.getAttr(a,"mcurl-val"),10);var d=this.getAttr(a,"data-ispause");if(d){this.sdk&&this.sdk.getDownloadStatus&&this.handlePkgStatus(false);this.leftClick();this.rightClick()}else{if(window.adsExtention&&document.getElementById("container")){this.adClick("container",window.adsExtention)}}if(c){this.changeStyle()}}catch(b){}},adClick:function(b,e){this.adsExtention=e||window.adsExtention;b=b||"container";var a=document.getElementById(b);var f=a.getElementsByTagName("a");for(var c=0;c<f.length;c++){var d=f[c].className;if(d){d=d.toLowerCase();if(d==="gylogo"||d==="bdlogo"||d.substring(0,7)==="bd-logo"){continue}}this.bind(f[c],"click",this.onAdClick.proxy(this))}},bindCloseHandler:function(){var a=document.getElementById("closeBtn");if(a&&this.sdk&&this.sdk.AdCloseAvailable&&this.sdk.AdCloseAvailable()){this.bind(a,"click",this.sdk.onAdPlayEnd)}else{a.style.display="none"}},onAdClick:function(d){var g=this.formatEventObj(d);var b=g.target;while(b.tagName.toLowerCase()!=="a"&&b.tagName.toLowerCase()!=="body"){b=b.parentNode}var h=parseInt(this.getAttr(b,"data-adindex"),10);var c=this.adsExtention[h]||window.adsExtention[h];var a=parseInt(this.getAttr(b,"data-adtype"),10);var f=this.getAttr(b,"href");c.curl=f||c.curl;c.act=a===5?2:a;this.sdk.handleClick(c);return this.stopEvent(d)},bind:function(a,c,b){if(a.addEventListener){a.addEventListener(c,b,false)}else{a.attachEvent("on"+c,b)}},getAttr:function(b,a){if(b&&b.getAttribute){return b.getAttribute(a)}return b[a]},formatEventObj:function(a){a=a||window.event;a.target=a.target||a.srcElement;return a},stopEvent:function(a){if(a&&a.stopPropagation){a.stopPropagation()}else{window.event.cancelBubble=true}if(a&&a.stopPropagation){a.preventDefault()}return false},changeStyle:function(){var c=document.getElementById("bd-logo");var a=document.getElementById("mob-bd-adIcon");var b=document.getElementById("logoArea");if(c){c.style.bottom=0;c.style.left=0}if(a){a.style.bottom=0;a.style.left=14+"px"}if(b){b.style.bottom=0;b.style.left=14+"px"}},leftClick:function(){var c=this;var a=document.getElementById("item0");var d=c.getAttr(a,"data-ispause");var b=parseInt(c.getAttr(a,"mcurl-val"),10);c.bind(a,"click",function(e){c.mobInterface&&c.mobInterface.pause&&c.mobInterface.pause();var f=e.target||e.srcElement;if(d){if(b){c.onAdClick(e)}else{c.handleDownload(e)}}})},rightClick:function(){var b=this;var a=document.getElementById("item_btn0");b.bind(a,"click",function(c){b.mobInterface&&b.mobInterface.pause&&b.mobInterface.pause();b.handleDownload(c)})},handleDownload:function(a){a.preventDefault();a.stopPropagation();if(this.sdk&&this.sdk.getDownloadStatus){this.handlePkgStatus(true,a)}else{this.onAdClick()}},handlePkgStatus:function(a,e){var d=e;var f=this;var g=document.getElementById("item_btn0");for(var c=0;c<window.adsExtention.length;c++){var b=window.adsExtention[c].pk}if(typeof b==="string"){f.sdk&&f.sdk.getDownloadStatus(function(i){var j=JSON.parse(i);var h=j.status;if(a){if(h===102||h===103){f.onAdClick(d)}else{if(h===101){f.onAdClick(d);clearInterval(f.downloadingIntervel);f.downloadingIntervel=setInterval(f.updateDownloadingContent.proxy(f),2000)}else{if(h<=100&&h>=0){if(j.isPaused===0){f.mobInterface&&f.mobInterface.play&&f.mobInterface.play();f.sdk.pauseDownload(b);clearInterval(f.downloadingIntervel);g.innerHTML="\u7ee7\u7eed"}else{if(j.isPaused===1){f.onAdClick(d);clearInterval(f.downloadingIntervel);f.downloadingIntervel=setInterval(f.updateDownloadingContent.proxy(f),2000)}}}}}}else{if(h===102){g.innerHTML="\u5b89\u88c5"}else{if(h===103){g.innerHTML="\u6253\u5f00"}else{if(h<=100&&h>=0){g.innerHTML=h+"%";if(j.isPaused===0){clearInterval(f.downloadingIntervel);f.downloadingIntervel=setInterval(f.updateDownloadingContent.proxy(f),2000)}else{if(j.isPaused===1){g.innerHTML="\u7ee7\u7eed"}}}}}}},b)}},updateDownloadingContent:function(){var c=this;var d=document.getElementById("item_btn0");for(var b=0;b<window.adsExtention.length;b++){var a=window.adsExtention[b].pk}c.sdk&&c.sdk.getDownloadStatus(function(f){var g=JSON.parse(f);var e=g.status;if(e<=100&&e>=0){d.innerHTML=e+"%";return}if(e===102){clearInterval(c.downloadingIntervel);d.innerHTML="\u5b89\u88c5"}},a)}});
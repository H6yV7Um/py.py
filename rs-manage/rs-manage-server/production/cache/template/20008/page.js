oojs.define({name:"page",deps:{},iframeId:"appDetecBridge",iframeUrl:"{{dupDomain}}/cpro/ui/html/appDetect.html",prefix:"baiduAppDetec",confKeys:["timeInterval","checkCount","expiredTime","maxDetectTimes","detectPosition"],appdataKeys:["appkey","sk"],$page:function(){var a=['<iframe id="',this.iframeId,'" src="',this.iframeUrl,'" align="center,center" marginwidth="0"  marginheight="0" frameborder="0" height="0"></iframe>'];document.write(a.join(""));this.setData("container")},bind:function(b,a,c){if(window.addEventListener){b.addEventListener(a,c,false)}else{b.attachEvent("on"+a,c)}},formatEventObj:function(a){a=a||window.event;a.target=a.target||a.srcElement;return a},mouseClickHandler:function(h){h=this.formatEventObj(h);var b=h.target;while(b.tagName.toLowerCase()!=="a"){b=b.parentNode}var a={};for(var d=0;d<this.confKeys.length;d++){var g=b.getAttribute(this.confKeys[d]);if(g!==null&&g!==""){a[this.confKeys[d]]=parseInt(g)}}var c={};for(var d=0;d<this.appdataKeys.length;d++){var g=b.getAttribute(this.appdataKeys[d]);if(g===null||g===""){return}c[this.appdataKeys[d]]=String(g)}var f=document.getElementById(this.iframeId);if(f&&f.contentWindow.postMessage){if(a){f.contentWindow.postMessage(this.prefix+"setConfig::"+JSON.stringify(a),"*")}f.contentWindow.postMessage(this.prefix+"pushApp::"+JSON.stringify(c),"*")}},setData:function(b){var a=document.getElementById(b);var e=a.getElementsByTagName("a");for(var c=0;c<e.length;c++){var d=e[c].className;if(d){d=d.toLowerCase();if(d==="gylogo"||d==="bdlogo"||d.substring(0,7)==="bd-logo"){continue}}this.bind(e[c],"click",this.mouseClickHandler.proxy(this))}}});
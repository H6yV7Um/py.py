oojs.define({name:"page",deps:{},iframeId:"appDetecBridge",iframeUrl:"{{dupDomain}}/cpro/ui/html/appDetect.html",prefix:"baiduAppDetec",confKeys:["timeInterval","checkCount","expiredTime","maxDetectTimes","detectPosition"],appdataKeys:["appkey","sk"],$page:function(){var a=['<iframe id="',this.iframeId,'" src="',this.iframeUrl,'" align="center,center" marginwidth="0"  marginheight="0" frameborder="0" height="0"></iframe>'];document.write(a.join(""));this.setData("container")},bind:function(b,a,c){if(window.addEventListener){b.addEventListener(a,c,false)}else{b.attachEvent("on"+a,c)}},formatEventObj:function(a){a=a||window.event;a.target=a.target||a.srcElement;return a},mouseClickHandler:function(f){f=this.formatEventObj(f);var a=f.target;while(a.tagName.toLowerCase()!=="a"){a=a.parentNode}var h=this.getAttr(a,"data-adtype");h=parseInt(h,10);var b=navigator.userAgent.toLowerCase();if(h===5&&b.indexOf("safari")>-1&&b.indexOf("version")>-1&&(b.indexOf("iphone")>-1||b.indexOf("ipad")>-1||b.indexOf("itouch")>-1)){window.top.location=a.href;return this.stopEvent(f)}var g={};for(var d=0;d<this.confKeys.length;d++){var j=a.getAttribute(this.confKeys[d]);if(j!==null&&j!==""){g[this.confKeys[d]]=parseInt(j,10)}}var k={};for(var d=0;d<this.appdataKeys.length;d++){var j=a.getAttribute(this.appdataKeys[d]);if(j===null||j===""){return}k[this.appdataKeys[d]]=String(j)}var c=document.getElementById(this.iframeId);if(c&&c.contentWindow.postMessage){if(g){c.contentWindow.postMessage(this.prefix+"setConfig::"+JSON.stringify(g),"*")}c.contentWindow.postMessage(this.prefix+"pushApp::"+JSON.stringify(k),"*")}},setData:function(b){var a=document.getElementById(b);var e=a.getElementsByTagName("a");for(var c=0;c<e.length;c++){var d=e[c].className;if(d){d=d.toLowerCase();if(d==="gylogo"||d==="bdlogo"||d.substring(0,7)==="bd-logo"){continue}}this.bind(e[c],"click",this.mouseClickHandler.proxy(this))}},getAttr:function(b,a){if(b&&b.getAttribute){return b.getAttribute(a)}else{return b[a]}},stopEvent:function(a){if(a&&a.stopPropagation){a.stopPropagation()}else{window.event.cancelBubble=true}if(a&&a.preventDefault){a.preventDefault()}return false}});